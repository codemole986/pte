<div *ngIf="active_menu=='manage'">
     <app-header-manage [default]="'user'"></app-header-manage>         
</div>
<div class="page-container">
    <!-- BEGIN PAGE HEAD -->
    <div class="page-head">
        <div class="container">
            <!-- BEGIN PAGE TITLE -->
            <div class="page-title">
                <h1>{{ 'User' | translate }} <small>{{ 'user manage' | translate }}</small></h1>
            </div>
            <!-- END PAGE TITLE -->
        </div>
    </div>

    <div class="page-content">
        <div class="container">
            <!-- BEGIN PAGE BREADCRUMB -->
            <ul class="page-breadcrumb breadcrumb">
                <li>
                    <a href="#" [routerLink]="['/']">{{ 'Home' | translate }}</a>
                </li>
                <li class="active">
                    {{ 'User' | translate }}
                </li>
            </ul>

            <!-- BEGIN SAMPLE PORTLET CONFIGURATION MODAL FORM  -->
            <div class="modal fade" id="usermodal" tabindex="-1" data-toggle="modal" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div id="usermodal_dlg" class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                            <h4 id="modal_title" class="modal-title letterspace12">User Info</h4>
                        </div>
                        <div class="modal-body">
                            <form #userchg="ngForm" novalidate (ngSubmit)="onClickSubmit(userchg.value)" class="register-form">
                            <!-- <form id="userform" method="post" accept-charset="utf-8"> -->
                                <p>
                                    {{ 'Edit your account details below' | translate }}:
                                </p>
                                <input name="id" id="user_id" type="hidden" [ngModel]="user.id" #id="ngModel">
                                <div class="form-group">
                                    <label class="control-label visible-ie8 visible-ie9">{{ 'First Name' | translate }}</label>
                                    <div class="input-icon"> 
                                        <i class="fa fa-font"></i>
                                        <input name="first_name" id="first_name" class="form-control placeholder-no-fix" type="text" placeholder="{{ 'First Name' | translate }}" [ngModel]="user.first_name" required reverse="true" #first_name="ngModel">
                                    </div>
                                    <small [hidden]="first_name.valid || (first_name.pristine && !userchg.submitted)" class="text-danger">
                                        <strong>{{ 'Please fill out this field.' | translate }}</strong>
                                    </small>
                                </div>
                                <div class="form-group">
                                    <label class="control-label visible-ie8 visible-ie9">{{ 'Last Name' | translate }}</label>
                                    <div class="input-icon">
                                        <i class="fa fa-font"></i>
                                        <input name="last_name" id="last_name" class="form-control placeholder-no-fix" type="text" placeholder="{{ 'Last Name' | translate }}" [ngModel]="user.last_name" required reverse="true" #last_name="ngModel">
                                    </div>
                                    <small [hidden]="last_name.valid || (last_name.pristine && !userchg.submitted)" class="text-danger">
                                        <strong>{{ 'Please fill out this field.' | translate }}</strong>
                                    </small>
                                </div>
                                <div class="form-group">
                                    <label class="control-label visible-ie8 visible-ie9">{{ 'Address' | translate }}</label>
                                    <div class="input-icon">
                                        <i class="fa fa-check"></i>
                                        <input name="address" id="address" class="form-control placeholder-no-fix" type="text" placeholder="{{ 'Address' | translate }}" [ngModel]="user.address" required reverse="true" #address="ngModel">
                                    </div>
                                    <small [hidden]="address.valid || (address.pristine && !userchg.submitted)" class="text-danger">
                                        <strong>{{ 'Please fill out this field.' | translate }}</strong>
                                    </small>
                                </div>                                
                                <div class="form-group">
                                    <label class="control-label visible-ie8 visible-ie9">{{ 'Email' | translate }}</label>
                                    <div class="input-icon">
                                        <i class="fa fa-envelope" style="font-size: 14px;"></i>
                                        <input id="email" name="email" class="form-control placeholder-no-fix" type="email" placeholder="{{ 'Email' | translate }}" required [(ngModel)]="user.email" #email="ngModel" pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$">
                                    </div>
                                    <small [hidden]="email.valid || (email.pristine && !userchg.submitted)" class="text-danger">
                                        <strong>{{ 'Email is required and format should be' | translate }} <i>john@doe.com</i>.</strong>
                                    </small>
                                </div>
                                <div class="form-group">
                                    <select name="permission" id="permission" class="form-control needfull" title="user permission" required reverse="true" [(ngModel)]="user.permission" #userpermission="ngModel" >
                                        <option *ngFor="let c of permissionNames" value="{{c.value}}" ng-selected="c.value==user.permission"> {{c.title}}</option>
                                    </select>  
                                    <small [hidden]="userpermission.valid || (userpermission.pristine && !userchg.submitted)" class="text-danger">
                                        <strong>Please fill out this field.</strong>
                                    </small>                    
                                </div>
                                <div class="form-group">
                                    <select name="class" id="class" class="form-control needfull" title="user class" required reverse="true" [(ngModel)]="user.class" #userclass="ngModel" >
                                        <option *ngFor="let c of classNames" value="{{c.value}}" ng-selected="c.value==user.class"> {{c.title}}</option>
                                    </select>  
                                    <small [hidden]="userclass.valid || (userclass.pristine && !userchg.submitted)" class="text-danger">
                                        <strong>Please fill out this field.</strong>
                                    </small>                    
                                </div>                                                                 
                            </form>    
                        </div>
                        <div class="modal-footer">
                            <button type="submit" id="user-submit-btn" class="btn blue-madison"><i class="fa fa-save"></i> Save </button>
                            <button type="button" class="btn default" data-dismiss="modal"> Cancel </button>
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </div>
            <!-- /.modal -->
            <!-- END SAMPLE PORTLET CONFIGURATION MODAL FORM-->          
            <div class="main-container"></div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="portlet light">
                        <div class="portlet-title">
                            <div class="caption">
                                <i class="fa fa-user fa-fw"></i> 
                                <span class="caption-subject font-green-sharp bold uppercase">{{ 'User List' | translate }}</span>
                            </div>                              
                        </div>
                        <div class="portlet-body">
                            <div class="row">
                                    <div class="search_bar">
                                        <div id="sample_3_filter" class="dataTables_filter">
                                            <label>eMail:<input type="search" id="searchemail" name="searchemail" class="form-control input-inline" placeholder=""></label>
                                            <label>Role:<input type="hidden" id="searchpermission" name="searchpermission" class="form-control select2" placeholder="">                                            
                                            </label>
                                            <a id="btnsearch" href="javascript:;" class="btn btn-sm green" (click)="searchUserList()">
                                                <i class="fa fa-search"></i> Search 
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            <div>
                                <table id="usertable" class="table table-striped table-bordered table-hover">
                                    
                                </table>
                            </div>  
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<app-footer></app-footer>