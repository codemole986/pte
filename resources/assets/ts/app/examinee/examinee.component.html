<!-- <div *ngIf="active_menu=='overview'">
     <app-header-overview [default]="'aboutus'"></app-header-overview>
</div>
<div *ngIf="active_menu=='student'">
     <app-header-student [default]="'aboutus'"></app-header-student>         
</div> -->
<div *ngIf="active_menu=='teacher'">
     <app-header-teacher [default]="'quizlist'"></app-header-teacher>         
</div>
<div *ngIf="active_menu=='manage'">
     <app-header-manage [default]="'quizlist'"></app-header-manage>         
</div>
<div class="page-container">
    <!-- BEGIN PAGE HEAD -->
    <div class="page-head">
        <div class="container">
            <!-- BEGIN PAGE TITLE -->
            <div class="page-title">
                <h1>{{ 'Preview' | translate }} <small>preview quiz</small></h1>
            </div>
            <!-- END PAGE TITLE -->
        </div>
    </div>

    <div class="page-content">
        <div class="container">
            <!-- BEGIN PAGE BREADCRUMB -->
            <ul class="page-breadcrumb breadcrumb">
                <li>
                    <a href="#" [routerLink]="['/']">{{ 'Home' | translate }}</a>
                </li>
                <li>
                    {{ 'Edit Quiz' | translate }}
                </li>
                <li class="active">
                    {{ 'Preview' | translate }}
                </li>
            </ul>
            <div *ngIf="listvisible">
                <div class="row">
                    <div class="col-md-12">
                        <div class="card card-default mb-3">   
                            <div class="card-header">
                                <div class="caption">
                                    <i class="fa fa-table fa-fw"></i> {{ 'Examinee List' | translate }}
                                </div>  
                                <div class="actions">   
                                    <a href="javascript:;" class="btn btn-default btn-sm" (click)="viewExam()">
                                        <i class="fa fa-list-alt fa-fw"></i> {{ 'View' | translate }} </a>         
                                    <a href="javascript:;" class="btn btn-default btn-sm" (click)="deleteExam()">
                                        <i class="fa fa-trash-o fa-fw"></i> {{ 'Delete' | translate }} </a>         
                                </div>
                            </div>                     
                            <div class="card-body">
                                <ng2-smart-table [settings]="examineegridsettings" [source]="examineedatasource" (userRowSelect)="onExamineeRowSelect($event)"></ng2-smart-table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <form *ngIf="viewexamflag" #viewexamineeForm="ngForm" style="padding: 15px;">

                <h3 class="page-title"> 
                    <span >{{curtestevent_info.testclass}} Test </span> 
                    <small > {{ 'Quiz  No.' | translate }}{{quiz_number}} </small>   
                    <div style="float:right; color:#FF0000;" >
                        <span *ngIf="testvisible">{{mark}}</span>                    
                    </div>
                </h3>
                <hr/>  
                <div class="row col-md-12">
                    <div class="col-sm-3 mb-3">
                        <h5 style="color:#6CF;">{{ 'Category' | translate }}: {{ currentProblem.category }}</h5>
                    </div>
                    <div class="col-sm-3 mb-3">
                        <h5 style="color:#6CF;">{{ 'Type' | translate }}: {{ getTypeName(currentProblem.category, currentProblem.type) }}</h5>
                    </div>
                    <div class="col-sm-3 mb-3">
                        <h5 style="color:#6CF;">{{ 'Degree' | translate }}: {{ currentProblem.degree }}</h5>
                    </div>
                    <div class="col-sm-3 mb-3">
                        <h5 style="color:#09F;">{{ 'Marks' | translate }}: {{currentAnswer.evaluate_mark}}</h5>                    
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="col-md-12 mb-3">
                            <div style="font-weight:bold; padding: 0 0 10px 0;">
                                {{currentProblem.guide}} 
                            </div>
                            <!-- <app-problem [data]="quiz_id"></app-problem> -->
                            <div *ngIf="currentProblem.type == 'WSM' || currentProblem.type == 'WES' || currentProblem.type == 'SAL'" class="row">
                                <div class="col-md-12 mb-3">
                                    {{ currentProblem.content.text }}
                                </div>                            
                            </div>
                            <div *ngIf="currentProblem.type == 'SRS' || currentProblem.type == 'SSA' || currentProblem.type == 'LWS' || currentProblem.type == 'LTS' || currentProblem.type == 'LSA' || currentProblem.type == 'LSB'" class="row">
                                <div *ngIf="currentProblem.content.audio" style="padding: 30px;">
                                    <audio controls="false" id="quizaudio" autoplay>
                                       <source src="/upload/q2/{{currentProblem.id}}/{{currentProblem.content.audio}}" type="audio/mpeg">
                                    </audio> 
                                </div>                    
                            </div>
                            <div *ngIf="currentProblem.type == 'SRL'" class="row" style="margin-top: 50px;">
                                <div class="col-md-6">
                                    <table class="table table-bordered table-hover" style="width: 100%;">
                                        <thead>
                                            <th colspan="2" style="padding: 10px; background-color: #cec; text-align: center;"> {{currentProblem.content.text}} </th>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let item of currentProblem.content.list; let i = index">
                                                <td style="width: 30%; text-align: right;">{{ i+1 }}</td>
                                                <td style="width: 70%; text-align: left;">
                                                    <a href="javascript:void(0)" (click)="onSelLecture(i)">{{ item.title }}</a>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="col-md-6" style="text-align: center;">
                                    <div *ngIf="sel_audio_index >= 0  &&  audio_visible_flag">
                                        <audio id="sel_audio" controls="false" autoplay="true" onpause="">
                                           <source src="/upload/q2/{{currentProblem.id}}/{{currentProblem.content.list[sel_audio_index].audio}}" type="audio/mpeg">
                                        </audio>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="currentProblem.type == 'SPI' " class="row">
                                <div *ngIf="currentProblem.content.picture">
                                    <img src="/upload/q2/{{currentProblem.id}}/{{currentProblem.content.picture}}" style="padding: 15px 0; max-width: 300px;" />
                                </div>
                            </div>
                            <div *ngIf="currentProblem.type == 'RSA'  ||  currentProblem.type == 'RMA'">
                                <div class="col-md-12 mb-3">
                                    {{ currentProblem.content.text }}
                                </div> 
                                <div *ngIf="currentProblem.content.picture"><img src="/upload/q2/{{currentProblem.id}}/{{currentProblem.content.picture}}" style="padding: 15px 0; max-width: 300px;" /></div>
                                <div class="col-md-12 mb-3">
                                    {{ currentProblem.content.select.guide }}
                                </div>
                                <div *ngIf="currentProblem.type == 'RSA'" class="col-md-12 mb-3">
                                    <div *ngFor="let n of currentProblem.content.select.options; let i = index" class="radio">
                                        <label>
                                            <input type="radio" name="optionsRadios" [value]="n" [(ngModel)]="radio_answer_val"> {{n}}
                                        </label>
                                    </div>
                                </div>
                                <div *ngIf="currentProblem.type == 'RMA'" class="col-md-12" style="margin-left: 15px;">
                                    <div *ngFor="let n of currentProblem.content.select.options; let i = index" class="checkbox">
                                        <label>
                                            <input type="checkbox" name="optionsChecks" [value]="n" [(ngModel)]="check_answer_val[i]" (change)="onClickCheck()" [disabled]="markvisible"> {{n}}
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="currentProblem.type == 'LSA'  ||  currentProblem.type == 'LSB'">
                                <div class="col-md-12 mb-3">
                                    {{ currentProblem.content.select.guide }}
                                </div>
                                <div *ngIf="currentProblem.type == 'LSB'" class="col-md-12 mb-3">
                                    <div *ngFor="let n of currentProblem.content.select.options; let i = index" class="radio">
                                        <label>
                                            <input type="radio" name="optionsRadios" [value]="n" [(ngModel)]="radio_answer_val" (change)="onClickRadio()" [disabled]="markvisible"> {{n}}
                                        </label>
                                    </div>
                                </div>
                                <div *ngIf="currentProblem.type == 'LSA'" class="col-md-12" style="margin-left: 15px;">
                                    <div *ngFor="let n of currentProblem.content.select.options; let i = index" class="checkbox">
                                        <label>
                                            <input type="checkbox" name="optionsChecks" [value]="n" [(ngModel)]="check_answer_val[i]" (change)="onClickCheck()" [disabled]="markvisible"> {{n}}
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="currentProblem.type == 'RRO'" class="row" style="margin-top: 15px;">
                                <div class="col-md-6 col-lg-6 dd" id="rro_list_problem">
                                    <ol class="dd-list">
                                        <li *ngFor="let opl of order_options; let i = index" class="dd-item" data-id="{{i+1}}">
                                            <div class="dd-handle">
                                                {{opl}}
                                            </div>
                                        </li>
                                    </ol>
                                </div>
                                <div class="col-md-6 col-lg-6 dd" id="rro_list_answer">
                                    <div class="dd-empty"></div>
                                </div>
                                {{createRRONestable()}}
                            </div>
                            <div *ngIf="currentProblem.type == 'RFB'" class="row" style="margin-top: 15px; padding: 15px;">
                                <div #htmldata class="col-md-12"></div>
                                <div #choicepanel class="col-md-12"></div>
                                {{createRFBView()}}
                            </div>
                            <div *ngIf="currentProblem.type == 'RAN'" class="row" style="margin-top: 15px; padding: 15px;">
                                <div #htmldata class="col-md-12"></div>
                                {{createRANView()}}
                            </div>
                            <div *ngIf="currentProblem.type == 'LTW'" class="row" style="margin-top: 15px; padding: 15px;">
                                <div #htmldata class="col-md-12"></div>
                                {{createLTWView()}}
                            </div>
                            <div *ngIf="currentProblem.type == 'LCD'" class="row" style="margin-top: 15px; padding: 15px;">
                                <div #htmldata class="col-md-12"></div>
                                {{createLCDView()}}
                            </div>
                        </div>
                    </div>
                </div> 

                <!-- <app-editor [data]="quiz_id"></app-editor> -->
                <div *ngIf="currentProblem.type=='WSM' || currentProblem.type=='WES' || currentProblem.type=='LWS' || currentProblem.type=='LTS'" class="row">
                    <div class="col-md-12">
                        <div class="col-md-12 mb-3">
                            <textarea name="content" id="txtanswer" class="form-control"  placeholder="Problem Sentences" title="Problem Sentences" rows="5" [(ngModel)]="currentAnswer.answer.text" [disabled]="answertext" ></textarea>                    
                        </div>
                    </div>
                </div>

                <div *ngIf="currentProblem.type=='SRS' || currentProblem.type=='SAL' || currentProblem.type=='SPI' || currentProblem.type=='SSA'" class="row">
                    <div class="col-md-12" style="text-align: center; margin-top: 30px;">
                        <button *ngIf="!audio_flag  &&  !end_exam_flag" class="btn btn-sm btn-success" type="button" (click)="startAnswerRecording()"> {{ 'Start recording' | translate }} <i class="fa fa-microphone fa-fw"></i></button>
                        <ngb-progressbar *ngIf="audio_flag" value="{{progressvalue}}" type="info" class="progress-striped progress-xs form-control">{{progressvalue}}%</ngb-progressbar>
                    </div>
                </div>

                <div *ngIf="solutiontextvisible" class="row">
                    <div class="col-md-12">
                        <div class="card card-default mb-3">
                            <div class="card-header">
                                <i class="fa fa-edit fa-fw"></i> {{ 'Solution' | translate }}
                            </div>
                            <div *ngIf="currentProblem.type=='WSM' || currentProblem.type=='WES' || currentProblem.type=='LWS' || currentProblem.type=='LTS' "  class="card-body">
                                {{ currentProblem.solution.text }}
                            </div>
                            <div *ngIf="currentProblem.type == 'RSA'" class="card-body">
                                <div *ngFor="let n of currentProblem.content.select.options; let i = index" class="radio">
                                    <label>
                                        <input type="radio" name="optionsRadios1" [value]="n" checked="i==currentProblem.solution.optionno" disabled> {{n}}
                                    </label>
                                </div>
                            </div>
                            <div *ngIf="currentProblem.type == 'RMA'" class="card-body" style="margin-left: 15px;">
                                <div *ngFor="let n of currentProblem.content.select.options; let j = index" class="checkbox">
                                    <label>
                                        <input *ngIf="check_solution_val[j]" type="checkbox" name="optionsChecks1" checked disabled>
                                        <input *ngIf="check_solution_val[j]==false" type="checkbox" name="optionsChecks1" disabled> {{n}}
                                    </label>
                                </div>
                            </div>
                            <div *ngIf="currentProblem.type == 'LSB'" class="card-body">
                                <div *ngFor="let n of currentProblem.content.select.options; let i = index" class="radio">
                                    <label>
                                        <input type="radio" name="optionsRadios1" [value]="n" checked="i==currentProblem.solution.optionno" disabled> {{n}}
                                    </label>
                                </div>
                            </div>
                            <div *ngIf="currentProblem.type == 'LSA'" class="card-body" style="margin-left: 15px;">
                                <div *ngFor="let n of currentProblem.content.select.options; let j = index" class="checkbox">
                                    <label>
                                        <input *ngIf="check_solution_val[j]" type="checkbox" name="optionsChecks1" checked disabled>
                                        <input *ngIf="check_solution_val[j]==false" type="checkbox" name="optionsChecks1" disabled> {{n}}
                                    </label>
                                </div>
                            </div>
                            <div *ngIf="currentProblem.type == 'RRO'" class="card-body">
                                <div class="col-md-5" style="padding: 10px;">
                                    <div class="dd" id="rro_list_problem">
                                        <ol class="dd-list">
                                            <li *ngFor="let opl of this.currentProblem.content.select.options; let i = index" class="dd-item" data-id="{{i+1}}">
                                                <div class="dd-handle">
                                                    {{opl}}
                                                </div>
                                            </li>
                                        </ol>
                                    </div>
                                    <select name="select_solution" class="form-control" style="min-height: 200px;" multiple>
                                        <option *ngFor="let op of this.currentProblem.content.select.options" value="{{op}}">{{op}}</option>
                                    </select>
                                </div>
                            </div>                        
                            <div *ngIf="currentProblem.type=='SRS' ||currentProblem.type=='SAL' || currentProblem.type=='SPI' || currentProblem.type=='SSA'"  class="card-body">
                                <div *ngIf="currentProblem.solution.audio">
                                    <audio controls autoplay="true">
                                       <source src="/upload/s0/{{currentProblem.id}}/{{currentProblem.solution.audio}}" type="audio/mpeg">
                                    </audio> 
                                </div>
                            </div>
                            <div *ngIf="currentProblem.type == 'RFB'" class="card-body">
                                <div #html_answerdata class="col-md-12"></div>
                                {{createRFBSolutionView()}}
                            </div>
                            <div *ngIf="currentProblem.type == 'RAN'" class="card-body">
                                <div #html_answerdata class="col-md-12"></div>
                                {{createRANSolutionView()}}
                            </div>
                            <div *ngIf="currentProblem.type == 'LTW'" class="card-body">
                                <div #html_answerdata class="col-md-12"></div>
                                {{createLTWSolutionView()}}
                            </div>
                            <div *ngIf="currentProblem.type == 'LCD'" class="card-body">
                                <div #html_answerdata class="col-md-12"></div>
                                {{createLCDSolutionView()}}
                            </div>
                        </div>
                    </div>
                </div>
                <hr/>
                
                <div class="row">
                    <div class="col text-right">
                    <p class="ng-tns-c14-20 my-2">
                        <button class="btn btn-sm btn-pill-left btn-primary" type="button" *ngIf=" (testvisible && endbutton) || selfexam " (click)="solutiontextvisible=!solutiontextvisible" ><i class="fa fa-file-text-o fa-fw"></i> {{ 'Solution' | translate }} </button>
                        <button class="btn btn-sm btn-pill-left btn-primary" type="button" *ngIf="currentProblem.test_id!=0" [disabled]="!previousbutton" (click)="prevExamine()" ><i class="fa fa-arrow-left fa-fw"></i> {{ 'Previous' | translate }} </button>
                        <button class="btn btn-sm btn-primary" type="button" [disabled]="endbutton" (click)="listvisible=true;"><i class="fa fa-stop fa-fw"></i> {{ 'End' | translate }} </button>
                        <button class="btn btn-sm btn-pill-right btn-primary" type="button" *ngIf="currentProblem.test_id!=0" [disabled]="!nextbutton" (click)="nextExamine()">{{ 'Next' | translate }} <i class="fa fa-arrow-right fa-fw"></i> </button>
                        <button class="btn btn-sm btn-pill-right btn-primary" type="button" *ngIf="currentProblem.test_id!=0" (click)="listvisible=true;">{{ 'Exit' | translate }} <i class="fa fa-mail-reply-all fa-fw"></i> </button>
                    </p>
                    </div>
                </div>         
            </form>

        	<form *ngIf="!listvisible && !viewexamflag" #examineeForm="ngForm" style="padding: 15px;">
                <div class="row">
                    <div class="col-md-12">
                        <!-- BEGIN EXAMPLE TABLE PORTLET-->
                        <div class="portlet light">
                            <div class="portlet-title">
                                <div class="caption">
                                    <span class="caption-subject font-green-sharp bold uppercase">{{ 'Problem' | translate }}</span>
                                </div>
                            </div>
                            <div class="portlet-body">
                                <div *ngIf="selfexam" class="row">
                                    <div class="col-md-12">
                                        <div class="col-sm-3 mb-3">
                                            <h5 style="color:#43C2F9;">{{ 'Category' | translate }}: {{ currentProblem.category }}</h5>
                                        </div>
                                        <div class="col-sm-3 mb-3">
                                            <h5 style="color:#6CF;">{{ 'Type' | translate }}: {{ getTypeName(currentProblem.category, currentProblem.type) }}</h5>
                                        </div>
                                        <div class="col-sm-3 mb-3">
                                            <h5 style="color:#6CF;">{{ 'Degree' | translate }}: {{ currentProblem.degree }}</h5>
                                        </div>
                                        <div class="col-sm-3 mb-3" *ngIf="selfexam">
                                            <h5 style="color:#09F;">{{ 'Remain Time' | translate }}: {{currentlimittime | converttimestamp }}</h5>                    
                                        </div>
                                    </div>
                                </div>
                                <hr/>
                                <div class="row" style="padding: 0 15px; font-size: 16px;">
                                    <div class="col-md-12">
                                        <div style="font-weight:bold; padding: 0 0 10px 0;">
                                            {{currentProblem.guide}} 
                                        </div>
                                        <!-- <app-problem [data]="quiz_id"></app-problem> -->
                                        <div *ngIf="currentProblem.type == 'WSM' || currentProblem.type == 'WES' || currentProblem.type == 'SAL'" class="row">
                                            <div class="col-md-12 mb-3" style="padding: 1em;">
                                                {{ currentProblem.content.text }}
                                            </div>                            
                                        </div>
                                        <div *ngIf="currentProblem.type == 'SRS' || currentProblem.type == 'SSA' || currentProblem.type == 'LWS' || currentProblem.type == 'LTS' || currentProblem.type == 'LSA' || currentProblem.type == 'LSB'" class="row">
                                            <div *ngIf="currentProblem.content.audio" style="padding: 30px;">
                                                <audio controls="false" id="quizaudio" autoplay>
                                                   <source src="/upload/q2/{{currentProblem.id}}/{{currentProblem.content.audio}}" type="audio/mpeg">
                                                </audio> 
                                            </div>                    
                                        </div>
                                        <div *ngIf="currentProblem.type == 'SPI' " class="row">
                                            <div *ngIf="currentProblem.content.picture">
                                                <img src="/upload/q2/{{currentProblem.id}}/{{currentProblem.content.picture}}" style="padding: 15px 0; max-width: 300px;" />
                                            </div>
                                        </div>
                                        <div *ngIf="currentProblem.type == 'SRL'" class="row" style="margin-top: 50px;">
                                            <div class="col-md-6">
                                                <table class="table table-bordered table-hover" style="width: 100%;">
                                                    <thead>
                                                        <th colspan="2" style="padding: 10px; background-color: #cec; text-align: center;"> {{currentProblem.content.text}} </th>
                                                    </thead>
                                                    <tbody>
                                                        <tr *ngFor="let item of currentProblem.content.list; let i = index">
                                                            <td style="width: 30%; text-align: right;">{{ i+1 }}</td>
                                                            <td style="width: 70%; text-align: left;">
                                                                <a href="javascript:void(0)" (click)="onSelLecture(i)">{{ item.title }}</a>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="col-md-6" style="text-align: center;">
                                                <div *ngIf="sel_audio_index >= 0  &&  audio_visible_flag  &&  !end_exam_flag">
                                                    <audio id="sel_audio" controls="false" autoplay>
                                                       <source src="/upload/q2/{{currentProblem.id}}/{{currentProblem.content.list[sel_audio_index].audio}}" type="audio/mpeg">
                                                    </audio>
                                                </div>
                                                <div style="margin-top: 30px;">
                                                    <button *ngIf="!audio_flag  &&  !end_exam_flag" class="btn btn-sm btn-success" type="button" (click)="startAnswerRecording()"> {{ 'Start recording' | translate }} <i class="fa fa-microphone fa-fw"></i></button>
                                                    <ngb-progressbar *ngIf="audio_flag" value="{{progressvalue}}" type="info" class="progress-striped progress-xs form-control">{{progressvalue}}%</ngb-progressbar>
                                                    <div *ngIf="end_exam_flag">
                                                        <audio controls>
                                                           <source id="selfaudiosource" src="" type="audio/mpeg">
                                                        </audio> 
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div *ngIf="currentProblem.type == 'RSA'  ||  currentProblem.type == 'RMA'">
                                            <div class="col-md-12 mb-3">
                                                {{ currentProblem.content.text }}
                                            </div> 
                                            <div *ngIf="currentProblem.content.picture"><img src="/upload/q2/{{currentProblem.id}}/{{currentProblem.content.picture}}" style="padding: 15px 0; max-width: 300px;" /></div>
                                            <div class="col-md-12 mb-3">
                                                {{ currentProblem.content.select.guide }}
                                            </div>
                                            <div *ngIf="currentProblem.type == 'RSA'" class="col-md-12 mb-3">
                                                <div *ngFor="let n of currentProblem.content.select.options; let i = index" class="radio">
                                                    <label>
                                                        <input type="radio" name="optionsRadios" [value]="n" [(ngModel)]="radio_answer_val" (change)="onClickRadio()" [disabled]="markvisible"> {{n}}
                                                    </label>
                                                </div>
                                            </div>
                                            <div *ngIf="currentProblem.type == 'RMA'" class="col-md-12" style="margin-left: 15px;">
                                                <div *ngFor="let n of currentProblem.content.select.options; let i = index" class="checkbox">
                                                    <label>
                                                        <input type="checkbox" name="optionsChecks" [value]="n" [(ngModel)]="check_answer_val[i]" (change)="onClickCheck()" [disabled]="markvisible"> {{n}}
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div *ngIf="currentProblem.type == 'LSA'  ||  currentProblem.type == 'LSB'">
                                            <div class="col-md-12 mb-3">
                                                {{ currentProblem.content.select.guide }}
                                            </div>
                                            <div *ngIf="currentProblem.type == 'LSB'" class="col-md-12 mb-3">
                                                <div *ngFor="let n of currentProblem.content.select.options; let i = index" class="radio">
                                                    <label>
                                                        <input type="radio" name="optionsRadios" [value]="n" [(ngModel)]="radio_answer_val" (change)="onClickRadio()" [disabled]="markvisible"> {{n}}
                                                    </label>
                                                </div>
                                            </div>
                                            <div *ngIf="currentProblem.type == 'LSA'" class="col-md-12" style="margin-left: 15px;">
                                                <div *ngFor="let n of currentProblem.content.select.options; let i = index" class="checkbox">
                                                    <label>
                                                        <input type="checkbox" name="optionsChecks" [value]="n" [(ngModel)]="check_answer_val[i]" (change)="onClickCheck()" [disabled]="markvisible"> {{n}}
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div *ngIf="currentProblem.type == 'RRO'" class="row" style="margin-top: 15px;">
                                            <div class="col-md-6 col-lg-6">
                                                <div class="dd" id="rro_list_problem">
                                                    <ol class="dd-list">
                                                        <li *ngFor="let opl of order_options; let i = index" class="dd-item" data-id="{{i+1}}">
                                                            <div class="dd-handle">
                                                                {{opl}}
                                                            </div>
                                                        </li>
                                                    </ol>
                                                </div>
                                            </div>
                                            <div class="col-md-6 col-lg-6">
                                                <div class="dd" id="rro_list_answer">
                                                    <div class="dd-empty"></div>
                                                </div>
                                            </div>
                                            {{createRRONestable()}}
                                        </div>
                                        <div *ngIf="currentProblem.type == 'RFB'" class="row" style="margin-top: 15px; padding: 15px;">
                                            <div #htmldata class="col-md-12"></div>
                                            <div #choicepanel class="col-md-12"></div>
                                            {{createRFBView()}}
                                        </div>
                                        <div *ngIf="currentProblem.type == 'RAN'" class="row" style="margin-top: 15px; padding: 15px;">
                                            <div #htmldata class="col-md-12"></div>
                                            {{createRANView()}}
                                        </div>
                                        <div *ngIf="currentProblem.type == 'LTW'" class="row" style="margin-top: 15px; padding: 15px;">
                                            <div #htmldata class="col-md-12"></div>
                                            {{createLTWView()}}
                                        </div>
                                        <div *ngIf="currentProblem.type == 'LCD'" class="row" style="margin-top: 15px; padding: 15px;">
                                            <div #htmldata class="col-md-12"></div>
                                            {{createLCDView()}}
                                        </div>
                                        <!-- <app-editor [data]="quiz_id"></app-editor> -->
                                        <div *ngIf="currentProblem.type=='WSM' || currentProblem.type=='WES' || currentProblem.type=='LWS' || currentProblem.type=='LTS'" class="row" style="font-size: 16px;">
                                            <div class="col-md-12">
                                                <div class="col-md-12 mb-3">
                                                    <textarea name="content" id="txtanswer" class="form-control"  placeholder="Problem Sentences" title="Problem Sentences" rows="5" [(ngModel)]="currentAnswer.answer.text" [disabled]="answertext" ></textarea>                    
                                                </div>
                                            </div>
                                        </div>

                                        <div *ngIf="currentProblem.type=='SRS' || currentProblem.type=='SAL' || currentProblem.type=='SPI' || currentProblem.type=='SSA'" class="row" style="font-size: 16px;">
                                            <div class="col-md-12" style="text-align: center; margin-top: 30px;">
                                                <button *ngIf="!audio_flag  &&  !end_exam_flag" class="btn btn-sm btn-success" type="button" (click)="startAnswerRecording()"> {{ 'Start recording' | translate }} <i class="fa fa-microphone fa-fw"></i></button>
                                                <ngb-progressbar *ngIf="audio_flag" value="{{progressvalue}}" type="info" class="progress-striped progress-xs form-control">{{progressvalue}}%</ngb-progressbar>
                                                <div *ngIf="audiovisibleflag">
                                                    <audio controls>
                                                       <source id="selfaudiosource" src="" type="audio/mpeg">
                                                    </audio> 
                                                </div>
                                            </div>
                                        </div>
                                        <hr/>
                                        <div>
                                            <div class="col text-right">
                                            <p class="ng-tns-c14-20 my-2">
                                                <button class="btn btn-sm btn-pill-left btn-primary" type="button" *ngIf=" (testvisible && endbutton) || selfexam " (click)="solutiontextvisible=!solutiontextvisible" ><i class="fa fa-file-text-o fa-fw"></i> {{ 'Solution' | translate }} </button>
                                                <button class="btn btn-sm btn-pill-left btn-primary" type="button" *ngIf="!selfexam" [disabled]="!previousbutton" (click)="prevExamine()" ><i class="fa fa-arrow-left fa-fw"></i> {{ 'Previous' | translate }} </button>
                                                <button class="btn btn-sm btn-primary" type="button" [disabled]="endbutton" (click)="endExamine()"><i class="fa fa-stop fa-fw"></i> {{ 'End' | translate }} </button>
                                                <button class="btn btn-sm btn-pill-right btn-primary" type="button" *ngIf="!selfexam" [disabled]="!nextbutton" (click)="nextExamine()">{{ 'Next' | translate }} <i class="fa fa-arrow-right fa-fw"></i> </button>
                                                <button class="btn btn-sm btn-pill-right btn-primary" type="button" *ngIf="currentProblem.test_id!=0" (click)="exitExamine()">{{ 'Exit' | translate }} <i class="fa fa-mail-reply-all fa-fw"></i> </button>
                                            </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngIf="solutiontextvisible" class="row">
                    <div class="col-md-12">
                        <div class="portlet light">
                            <div class="portlet-title">
                                <div class="caption" style="width: 100%;">
                                    <span class="caption-subject font-green-sharp bold uppercase">{{ 'Solution' | translate }}</span>
                                </div>
                            </div>
                            <div class="portlet-body">
                                <div class="row" style="padding: 0 15px; font-size: 16px;">
                                    <div class="col-md-12">
                                        <div *ngIf="currentProblem.type=='WSM' || currentProblem.type=='WES' || currentProblem.type=='LWS' || currentProblem.type=='LTS' "  class="card-body">
                                            {{ currentProblem.solution.text }}
                                        </div>
                                        <div *ngIf="currentProblem.type == 'RSA'  ||  currentProblem.type == 'LSB'" class="col-md-12 mb-3" style="padding: 0 15px;">
                                            <div *ngFor="let n of currentProblem.content.select.options; let i = index" class="radio">
                                                <label>
                                                    <input *ngIf="i==currentProblem.solution.optionno" type="radio" name="optionsRadios1" [value]="n" checked disabled>
                                                    <input *ngIf="i!=currentProblem.solution.optionno" type="radio" name="optionsRadios1" [value]="n" disabled> {{n}}
                                                </label>
                                            </div>
                                        </div>
                                        <div *ngIf="currentProblem.type == 'RMA'  ||  currentProblem.type == 'LSA'" class="col-md-12" style="margin-left: 15px;">
                                            <div *ngFor="let n of currentProblem.content.select.options; let j = index" class="checkbox">
                                                <label>
                                                    <input *ngIf="check_solution_val[j]" type="checkbox" name="optionsChecks1" checked disabled>
                                                    <input *ngIf="check_solution_val[j]==false" type="checkbox" name="optionsChecks1" disabled> {{n}}
                                                </label>
                                            </div>
                                        </div>
                                        <div *ngIf="currentProblem.type == 'RRO'" class="col-md-12 mb-3 card-body">
                                            <div class="col-md-6" style="padding: 10px;">
                                                <div class="dd" id="rro_list_problem">
                                                    <ol class="dd-list">
                                                        <li *ngFor="let opl of this.currentProblem.content.select.options; let i = index" class="dd-item" data-id="{{i+1}}">
                                                            <div class="dd-handle">
                                                                {{opl}}
                                                            </div>
                                                        </li>
                                                    </ol>
                                                </div>
                                            </div>
                                        </div>                        
                                        <div *ngIf="currentProblem.type=='SRS' ||currentProblem.type=='SAL' || currentProblem.type=='SPI' || currentProblem.type=='SSA' || currentProblem.type=='SRL'"  class="card-body">
                                            <div *ngIf="currentProblem.solution.audio">
                                                <audio controls autoplay>
                                                   <source src="/upload/s0/{{currentProblem.id}}/{{currentProblem.solution.audio}}" type="audio/mpeg">
                                                </audio> 
                                            </div>
                                        </div>
                                        <div *ngIf="currentProblem.type == 'RFB'" class="card-body">
                                            <div #html_answerdata class="col-md-12"></div>
                                            {{createRFBSolutionView()}}
                                        </div>
                                        <div *ngIf="currentProblem.type == 'RAN'" class="card-body">
                                            <div #html_answerdata class="col-md-12"></div>
                                            {{createRANSolutionView()}}
                                        </div>
                                        <div *ngIf="currentProblem.type == 'LTW'" class="card-body">
                                            <div #html_answerdata class="col-md-12"></div>
                                            {{createLTWSolutionView()}}
                                        </div>
                                        <div *ngIf="currentProblem.type == 'LCD'" class="card-body">
                                            <div #html_answerdata class="col-md-12"></div>
                                            {{createLCDSolutionView()}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>      
            </form>
        </div>
    </div>
</div>
